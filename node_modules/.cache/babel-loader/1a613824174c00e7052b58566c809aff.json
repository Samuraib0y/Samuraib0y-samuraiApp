{"ast":null,"code":"import { ProfileAPI, usersAPI } from \"../API/api\";\nconst ADD_POST = 'ADD-POST';\nconst UPDATE_POST_AREA = 'UPDATE_POST_AREA';\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE';\nconst SET_PROFILE_STATUS = 'SET_PROFILE_STATUS';\nconst DELETE_POST = 'DELETE_POST';\nlet initialState = {\n  posts: [{\n    id: 1,\n    name: 'Andrey Popkamp3',\n    likescount: 12,\n    text: 'Bla lba lba!',\n    avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\n  }, {\n    id: 2,\n    name: 'Masha Popka',\n    likescount: 2,\n    text: 'Da poebat!',\n    avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\n  }, {\n    id: 3,\n    name: 'Rubak Lobak',\n    likescount: 32,\n    text: 'Tu suka , ya suka',\n    avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\n  }],\n  postTextArea: \"Hello!\",\n  profile: null,\n  status: '',\n  userId: 4958\n};\n\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  // if (action.type === ADD_POST){\n  //     let newPost = {\n  //         id: 5,\n  //         name: \"Mr Test\",\n  //         likescount: 22,\n  //         text: postTextArea,\n  //         avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\n  //     }\n  //     state.posts.push(newPost)\n  //     state.postTextArea = '';\n  // }\n  // else if (action.type === UPDATE_POST_AREA) {\n  //     state.postTextArea = action.newText;\n  // }\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let newPost = {\n          id: 5,\n          name: \"Mr Test\",\n          likescount: 22,\n          text: action.newPostBody,\n          avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\n        };\n        let stateShadow = { ...state\n        };\n        stateShadow.posts = [...state.posts];\n        stateShadow.posts.push(newPost); // stateShadow.postTextArea = '';\n\n        return stateShadow;\n      }\n    // case UPDATE_POST_AREA: {\n    //     let stateShadow = {...state}\n    //     stateShadow.postTextArea = action.newText\n    //     return stateShadow;\n    // }\n\n    case SET_USERS_PROFILE:\n      {\n        return { ...state,\n          profile: action.profile\n        };\n      }\n\n    case SET_PROFILE_STATUS:\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    case DELETE_POST:\n      {\n        console.log('asdasdasdasdsad');\n        return { ...state,\n          posts: state.posts.filter(p => p.id != action.postId)\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = newPostBody => ({\n  type: ADD_POST,\n  newPostBody\n});\nexport const updatePostArea = newText => ({\n  type: UPDATE_POST_AREA,\n  newText\n});\nexport const setUsersProfile = profile => ({\n  type: SET_USERS_PROFILE,\n  profile\n});\nexport const setProfileStatus = status => ({\n  type: SET_PROFILE_STATUS,\n  status\n});\nexport const deletePost = postId => ({\n  type: DELETE_POST,\n  postId\n});\nexport const getProfile = userId => async dispatch => {\n  let response = await usersAPI.getProfile(userId);\n  dispatch(setUsersProfile(response.data));\n};\nexport const getProfileStatus = userId => async dispatch => {\n  let responce = await ProfileAPI.getStatus(userId);\n  dispatch(setProfileStatus(responce.data));\n};\nexport const updateProfileStatus = status => async dispatch => {\n  let responce = await ProfileAPI.updateStatus(status);\n\n  if (responce.data.resultCode === 0) {\n    dispatch(setProfileStatus(status));\n  }\n};\nexport default profileReducer;","map":{"version":3,"sources":["C:/Users/1/Desktop/Start/samurai/src/Redux/profile-reducer.js"],"names":["ProfileAPI","usersAPI","ADD_POST","UPDATE_POST_AREA","SET_USERS_PROFILE","SET_PROFILE_STATUS","DELETE_POST","initialState","posts","id","name","likescount","text","avatar","postTextArea","profile","status","userId","profileReducer","state","action","type","newPost","newPostBody","stateShadow","push","console","log","filter","p","postId","addPostActionCreator","updatePostArea","newText","setUsersProfile","setProfileStatus","deletePost","getProfile","dispatch","response","data","getProfileStatus","responce","getStatus","updateProfileStatus","updateStatus","resultCode"],"mappings":"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","sourcesContent":["import {ProfileAPI, usersAPI} from \"../API/api\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst UPDATE_POST_AREA = 'UPDATE_POST_AREA'\r\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE'\r\nconst SET_PROFILE_STATUS = 'SET_PROFILE_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            name: 'Andrey Popkamp3',\r\n            likescount: 12,\r\n            text: 'Bla lba lba!',\r\n            avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Masha Popka',\r\n            likescount: 2,\r\n            text: 'Da poebat!',\r\n            avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Rubak Lobak',\r\n            likescount: 32,\r\n            text: 'Tu suka , ya suka',\r\n            avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n        }\r\n\r\n    ],\r\n    postTextArea: \"Hello!\",\r\n    profile: null,\r\n    status: '',\r\n    userId: 4958\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    // if (action.type === ADD_POST){\r\n    //     let newPost = {\r\n    //         id: 5,\r\n    //         name: \"Mr Test\",\r\n    //         likescount: 22,\r\n    //         text: postTextArea,\r\n    //         avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n    //     }\r\n    //     state.posts.push(newPost)\r\n    //     state.postTextArea = '';\r\n    // }\r\n    // else if (action.type === UPDATE_POST_AREA) {\r\n    //     state.postTextArea = action.newText;\r\n    // }\r\n\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                name: \"Mr Test\",\r\n                likescount: 22,\r\n                text: action.newPostBody,\r\n                avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n            }\r\n            let stateShadow = {...state};\r\n            stateShadow.posts = [...state.posts]\r\n            stateShadow.posts.push(newPost);\r\n            // stateShadow.postTextArea = '';\r\n            return stateShadow;\r\n        }\r\n        // case UPDATE_POST_AREA: {\r\n        //     let stateShadow = {...state}\r\n        //     stateShadow.postTextArea = action.newText\r\n        //     return stateShadow;\r\n        // }\r\n        case SET_USERS_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_PROFILE_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            console.log('asdasdasdasdsad')\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        default:\r\n\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({type: ADD_POST, newPostBody})\r\nexport const updatePostArea = (newText) => ({type: UPDATE_POST_AREA, newText})\r\nexport const setUsersProfile = (profile) => ({type: SET_USERS_PROFILE, profile})\r\nexport const setProfileStatus = (status) => ({type: SET_PROFILE_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getProfile = (userId) =>\r\n    async (dispatch) => {\r\n        let response = await usersAPI.getProfile(userId)\r\n        dispatch(setUsersProfile(response.data))\r\n    }\r\n\r\nexport const getProfileStatus = (userId) =>\r\n    async (dispatch) => {\r\n        let responce = await ProfileAPI.getStatus(userId)\r\n        dispatch(setProfileStatus(responce.data))\r\n    }\r\n\r\nexport const updateProfileStatus = (status) =>\r\n    async (dispatch) => {\r\n\r\n        let responce = await ProfileAPI.updateStatus(status)\r\n        if (responce.data.resultCode === 0) {\r\n            dispatch(setProfileStatus(status))\r\n        }\r\n    }\r\n\r\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}