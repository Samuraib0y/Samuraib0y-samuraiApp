{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/1/Desktop/gittest/Samuraib0y-samuraiApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/1/Desktop/gittest/Samuraib0y-samuraiApp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/1/Desktop/gittest/Samuraib0y-samuraiApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\1\\\\Desktop\\\\gittest\\\\Samuraib0y-samuraiApp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{ProfileAPI,usersAPI}from\"../API/api\";var ADD_POST='ADD-POST';var UPDATE_POST_AREA='UPDATE_POST_AREA';var SET_USERS_PROFILE='SET_USERS_PROFILE';var SET_PROFILE_STATUS='SET_PROFILE_STATUS';var DELETE_POST='DELETE_POST';var initialState={posts:[{id:1,name:'Andrey Popkamp3',likescount:12,text:'Bla lba lba!',avatar:'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'},{id:2,name:'Masha Popka',likescount:2,text:'Da poebat!',avatar:'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'},{id:3,name:'Rubak Lobak',likescount:32,text:'Tu suka , ya suka',avatar:'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'}],postTextArea:\"Hello!\",profile:null,status:'',userId:4958};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;// if (action.type === ADD_POST){\n//     let newPost = {\n//         id: 5,\n//         name: \"Mr Test\",\n//         likescount: 22,\n//         text: postTextArea,\n//         avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\n//     }\n//     state.posts.push(newPost)\n//     state.postTextArea = '';\n// }\n// else if (action.type === UPDATE_POST_AREA) {\n//     state.postTextArea = action.newText;\n// }\nswitch(action.type){case ADD_POST:{var newPost={id:5,name:\"Mr Test\",likescount:22,text:action.newPostBody,avatar:'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'};var stateShadow=_objectSpread({},state);stateShadow.posts=_toConsumableArray(state.posts);stateShadow.posts.push(newPost);// stateShadow.postTextArea = '';\nreturn stateShadow;}// case UPDATE_POST_AREA: {\n//     let stateShadow = {...state}\n//     stateShadow.postTextArea = action.newText\n//     return stateShadow;\n// }\ncase SET_USERS_PROFILE:{return _objectSpread(_objectSpread({},state),{},{profile:action.profile});}case SET_PROFILE_STATUS:{return _objectSpread(_objectSpread({},state),{},{status:action.status});}case DELETE_POST:{console.log('asdasdasdasdsad');return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(p){return p.id!=action.postId;})});}default:return state;}};export var addPostActionCreator=function addPostActionCreator(newPostBody){return{type:ADD_POST,newPostBody:newPostBody};};export var updatePostArea=function updatePostArea(newText){return{type:UPDATE_POST_AREA,newText:newText};};export var setUsersProfile=function setUsersProfile(profile){return{type:SET_USERS_PROFILE,profile:profile};};export var setProfileStatus=function setProfileStatus(status){return{type:SET_PROFILE_STATUS,status:status};};export var deletePost=function deletePost(postId){return{type:DELETE_POST,postId:postId};};export var getProfile=function getProfile(userId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return usersAPI.getProfile(userId);case 2:response=_context.sent;dispatch(setUsersProfile(response.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getProfileStatus=function getProfileStatus(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var responce;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ProfileAPI.getStatus(userId);case 2:responce=_context2.sent;dispatch(setProfileStatus(responce.data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateProfileStatus=function updateProfileStatus(status){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var responce;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return ProfileAPI.updateStatus(status);case 2:responce=_context3.sent;if(responce.data.resultCode===0){dispatch(setProfileStatus(status));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export default profileReducer;","map":{"version":3,"sources":["C:/Users/1/Desktop/gittest/Samuraib0y-samuraiApp/src/Redux/profile-reducer.js"],"names":["ProfileAPI","usersAPI","ADD_POST","UPDATE_POST_AREA","SET_USERS_PROFILE","SET_PROFILE_STATUS","DELETE_POST","initialState","posts","id","name","likescount","text","avatar","postTextArea","profile","status","userId","profileReducer","state","action","type","newPost","newPostBody","stateShadow","push","console","log","filter","p","postId","addPostActionCreator","updatePostArea","newText","setUsersProfile","setProfileStatus","deletePost","getProfile","dispatch","response","data","getProfileStatus","getStatus","responce","updateProfileStatus","updateStatus","resultCode"],"mappings":"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","sourcesContent":["import {ProfileAPI, usersAPI} from \"../API/api\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst UPDATE_POST_AREA = 'UPDATE_POST_AREA'\r\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE'\r\nconst SET_PROFILE_STATUS = 'SET_PROFILE_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            name: 'Andrey Popkamp3',\r\n            likescount: 12,\r\n            text: 'Bla lba lba!',\r\n            avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Masha Popka',\r\n            likescount: 2,\r\n            text: 'Da poebat!',\r\n            avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Rubak Lobak',\r\n            likescount: 32,\r\n            text: 'Tu suka , ya suka',\r\n            avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n        }\r\n\r\n    ],\r\n    postTextArea: \"Hello!\",\r\n    profile: null,\r\n    status: '',\r\n    userId: 4958\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    // if (action.type === ADD_POST){\r\n    //     let newPost = {\r\n    //         id: 5,\r\n    //         name: \"Mr Test\",\r\n    //         likescount: 22,\r\n    //         text: postTextArea,\r\n    //         avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n    //     }\r\n    //     state.posts.push(newPost)\r\n    //     state.postTextArea = '';\r\n    // }\r\n    // else if (action.type === UPDATE_POST_AREA) {\r\n    //     state.postTextArea = action.newText;\r\n    // }\r\n\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                name: \"Mr Test\",\r\n                likescount: 22,\r\n                text: action.newPostBody,\r\n                avatar: 'https://www.icegif.com/wp-content/uploads/sasuke-icegif-1.gif'\r\n            }\r\n            let stateShadow = {...state};\r\n            stateShadow.posts = [...state.posts]\r\n            stateShadow.posts.push(newPost);\r\n            // stateShadow.postTextArea = '';\r\n            return stateShadow;\r\n        }\r\n        // case UPDATE_POST_AREA: {\r\n        //     let stateShadow = {...state}\r\n        //     stateShadow.postTextArea = action.newText\r\n        //     return stateShadow;\r\n        // }\r\n        case SET_USERS_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_PROFILE_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            console.log('asdasdasdasdsad')\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        default:\r\n\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({type: ADD_POST, newPostBody})\r\nexport const updatePostArea = (newText) => ({type: UPDATE_POST_AREA, newText})\r\nexport const setUsersProfile = (profile) => ({type: SET_USERS_PROFILE, profile})\r\nexport const setProfileStatus = (status) => ({type: SET_PROFILE_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getProfile = (userId) =>\r\n    async (dispatch) => {\r\n        let response = await usersAPI.getProfile(userId)\r\n        dispatch(setUsersProfile(response.data))\r\n    }\r\n\r\nexport const getProfileStatus = (userId) =>\r\n    async (dispatch) => {\r\n        let responce = await ProfileAPI.getStatus(userId)\r\n        dispatch(setProfileStatus(responce.data))\r\n    }\r\n\r\nexport const updateProfileStatus = (status) =>\r\n    async (dispatch) => {\r\n\r\n        let responce = await ProfileAPI.updateStatus(status)\r\n        if (responce.data.resultCode === 0) {\r\n            dispatch(setProfileStatus(status))\r\n        }\r\n    }\r\n\r\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}